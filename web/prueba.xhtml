<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <h:form>
            <p:fieldset  id="panel" legend="Crear Actividad para el Semestre" style="margin-bottom: 10px">             
                <p:messages id="msgs" />
                <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                    <p:outputLabel for="tipo" value="Tipo:" />
                    <p:selectOneRadio id="tipo" value="#{beanCatAct.tipoact}"  
                                      required="true" 
                                      requiredMessage="Nesecitas elegir un tipo">
                        <f:selectItem itemLabel="Deportivo" itemValue="Deportivo" />
                        <f:selectItem itemLabel="Cultural" itemValue="Cultural" />               
                    </p:selectOneRadio>
                    <p:message for="tipo" display="text" />
                </h:panelGrid>
                <h:panelGrid columns="1" id="grid"  >
                    <p:outputLabel value="Nombre de la Actividad:" for="Actividad"/>
                    <p:inputText id="Actividad" 
                                 value="#{beanCatAct.nombre}" 
                                 required="true"
                                 requiredMessage="Nesecitas ingresar nombre de actividad"/>
                    <p:message for="Actividad" display="text" />
                </h:panelGrid>
                <p:commandButton value="Save" update="panel" actionListener="#{beanCatAct.addCatAct()}" icon="ui-icon-check" />               
            </p:fieldset>
        </h:form>
        <h:form>
            <p:fieldset  id="panel" legend="Crear Actividad Nueva" style="margin-bottom: 10px">             
                <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                    <p:outputLabel for="tipo" value="Tipo:" />
                    <p:selectOneRadio id="tipo" value="#{beanCatAct.tipoact}"  
                                      required="true" 
                                      requiredMessage="Nesecitas elegir un tipo">
                        <f:selectItem itemLabel="Deportivo" itemValue="Deportivo" />
                        <f:selectItem itemLabel="Cultural" itemValue="Cultural" />               
                    </p:selectOneRadio>
                    <p:message for="tipo" display="text" />
                </h:panelGrid>
                <h:panelGrid columns="1" id="grid"  >
                    <p:outputLabel value="Nombre de la Actividad:" for="Actividad"/>
                    <p:inputText id="Actividad" 
                                 value="#{beanCatAct.nombre}" 
                                 required="true"
                                 requiredMessage="Nesecitas ingresar nombre de actividad"/>
                    <p:message for="Actividad" display="text" />
                </h:panelGrid>
                <p:commandButton value="Guardar" update="panel" actionListener="#{beanCatAct.addCatAct()}" icon="ui-icon-check" >
                    <p:confirm header="Confirmation" message="Estas seguro de agragar esta actividad?" icon="ui-icon-alert" />
                </p:commandButton>               
                <p:growl id="message" showDetail="true" />
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                </p:confirmDialog>
            </p:fieldset>
        </h:form>

        <h:form>
            <p:fieldset   id="grid" legend="Crear Nueva Actividad para el Semestre " style="margin-bottom: 10px">


                <h:panelGrid columns="1" >

                    <h:outputLabel for="Año" value="Año:" />
                    <p:selectOneMenu id="Año" value="#{beanActividad.actividad.año}" required="true" requiredMessage="Nesecitas elegir un año">
                        <f:selectItem itemLabel="Selecciona un Año" itemValue="" noSelectionOption="true" />
                        <f:selectItem itemLabel="2016" itemValue="2016" />
                        <f:selectItem itemLabel="2017" itemValue="2017" />
                        <f:selectItem itemLabel="2018" itemValue="2018" />
                        <f:selectItem itemLabel="2019" itemValue="2019" />
                        <f:selectItem itemLabel="2020" itemValue="2020" />
                        <f:selectItem itemLabel="2021" itemValue="2022" />
                        <f:selectItem itemLabel="2022" itemValue="2022" />
                        <f:selectItem itemLabel="2023" itemValue="2023" />
                        <f:selectItem itemLabel="2024" itemValue="2024" />
                        <f:selectItem itemLabel="2025" itemValue="2025" />
                    </p:selectOneMenu>
                    <p:message for="Año" display="text"/>

                    <h:outputLabel for="semestre" value="Semestre:" />
                    <p:selectOneMenu id="semestre" value="#{beanActividad.actividad.semestre}" required="true" requiredMessage="Nesecitas elegir un semestre">
                        <f:selectItem itemLabel="Selecciona un Semestre" itemValue="" noSelectionOption="true" />
                        <f:selectItem itemLabel="Enero-Junio" itemValue="Enero-Junio" />
                        <f:selectItem itemLabel="Agosto-Diciembre" itemValue="Agosto-Diciembre" />
                    </p:selectOneMenu>
                    <p:message for="semestre" display="text"/>


                    <h:outputLabel for="nombre" value="Actividad:"/>

                    <p:selectOneMenu 
                        id="nombre" 
                        value="#{beanActividad.idCatActividad}" 
                        required="true" 
                        requiredMessage="Nesecitas elegir una Actividad">
                        <f:selectItem itemLabel="Selecciona una Actividad" itemValue="" noSelectionOption="true" />

                        <f:selectItems 
                            value="#{beanActividad.jalarNombres()}" 
                            var="catalogo" 
                            itemLabel="#{catalogo.nombre}" 
                            itemValue="#{catalogo.idCatAct}"
                            />
                    </p:selectOneMenu>
                    <p:message for="nombre" display="text" />

                    <h:outputLabel value="¿No existe la actividad? "/>
                    <p:link outcome="CrearCatAct" value="Registrar Aqui"/>
                </h:panelGrid>
            </p:fieldset>
            <p:commandButton 
                icon="ui-icon-check"
                value="Guardar" 
                action="#{beanActividad.add()}"   
                update="grid" 
                />
            <p:commandButton value="Guardar" update="grid" actionListener="#{beanActividad.add()}" icon="ui-icon-check" >
                <p:confirm header="Confirmation" message="¿Estas seguro de agregar esta actividad?" icon="ui-icon-alert" />
            </p:commandButton>               
            <p:growl id="message"/>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>
        </h:form>

        <h:form>
            <p:dataTable value="#{beanPromotor.jalarPromotores()}" var="promotor" id="tbl">

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Apellido Paterno" />
                    </f:facet>
                    <h:outputText value="#{promotor.apePat}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Apellido Materno" />
                    </f:facet>
                    <h:outputText value="#{promotor.apeMat}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Nombre(s)" />
                    </f:facet>
                    <h:outputText value="#{promotor.nombre}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Correo" />
                    </f:facet>
                    <h:outputText value="#{promotor.correo}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Telefono" />
                    </f:facet>
                    <h:outputText value="#{promotor.telefono}" />
                </p:column>
            </p:dataTable>
            <h:commandLink id="pdf">
<!--                <p:graphicImage name="/resources/image/pdf.png" />-->
                <p:commandButton value="Generar pdf"/>
                <p:dataExporter type="pdf" target="tbl" fileName="cars" preProcessor="#{multiSelectView.preProcessPDF}" />
            </h:commandLink>
        </h:form>

    </h:body>
</html>

